<!doctype html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments :: header ">
</head>
<body>

<nav class="navbar navbar-expand-lg bg-light" th:replace="fragments :: navigation">
</nav>

<div>
    <a th:href="@{/boardCreate}" style="text-decoration: none;"><h3>게시글 작성하기</h3></a>
</div>
<table class="table">
    <thead>
    <tr>
        <th scope="col">#</th>
        <th scope="col">번호</th>
        <th scope="col">글제목</th>
        <th scope="col">작성자</th>
        <th scope="col">작성날짜</th>
        <th scope="col">편집</th>
    </tr>
    </thead>
    <tbody>

    <tr th:each="board : ${boardList}">
        <td></td>
        <td>[[${board.id}]]</td>
        <td><a style="text-decoration: none;" th:href="@{'/board/' + ${board.id}}">[[${board.title}]]</a></td>
        <td>[[${board.user}]]</td>
        <td>[[${board.creationTime}]]</td>
        <td>
            <th:block>
                <a th:if="${#authentication.principal.user} == ${board.user}" th:href="@{'/board/edit/' + ${board.id}}"
                   style="text-decoration: none;">Edit</a> &nbsp
                <a th:if="${#authentication.principal.user} == ${board.user}" class="deleteClass" th:href="@{'/board/delete/' + ${board.id}}"
                   style="text-decoration: none;">Delete</a>
            </th:block>
        </td>
    </tr>
    </tbody>
</table>
<nav aria-label="Page navigation example">
    <ul class="pagination justify-content-center">
        <li th:class="${1 != pageNumber ? 'page-item active' : 'page-item disabled'}"><a class="page-link" th:href="@{'/board/page/' + ${pageNumber-1}}">이전 페이지</a></li>
        <li th:class="${totalPages == pageNumber ? 'page-item disabled' : 'page-item active'}"><a class="page-link" th:href="@{'/board/page/' + ${pageNumber+1}}">다음 페이지</a></li>
    </ul>
</nav>

<div class="text-center">
    <h1>
        <MARQUEE>😊이노트리에 오신 것을 환영합니다😊</MARQUEE>
    </h1>
    <img th:src="@{/img/innotree.png}" style="margin : 0 auto; width=:350px; height:200px;">
</div>
<script type="text/javascript">
    $(document).ready(function(){
        $(".deleteClass").on("click",function(e){
            alert("해당 글을 삭제합니다: ");
        });
    });
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3"
        crossorigin="anonymous"></script>
</body>
</html>